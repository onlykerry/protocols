<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0062)http://www.21ic.com/new_info/news/files/news/2003916235102.asp -->
<HTML><HEAD><TITLE>――使用uC/OS-II操作系统的短信息电话机</TITLE>
<META http-equiv=Content-Type content="text/html; charset=gb2312">
<STYLE type=text/css>TD {
	FONT-SIZE: 12px
}
INPUT {
	FONT-SIZE: 12px; font-fammily: verdana,宋体
}
A:link {
	FONT-SIZE: 12px; COLOR: #0000ff; LINE-HEIGHT: 16px; TEXT-DECORATION: underline
}
A:visited {
	FONT-SIZE: 12px; COLOR: #660066; LINE-HEIGHT: 16px; TEXT-DECORATION: underline
}
A:hover {
	FONT-SIZE: 12px; COLOR: #ff0000; TEXT-DECORATION: underline
}
.unnamed1 {
	FONT-SIZE: 12px; FONT-FAMILY: "Arial", "Helvetica", "sans-serif"
}
.white {
	FONT-SIZE: 12px; COLOR: #ffffff; LINE-HEIGHT: 16px
}
.b:link {
	FONT-SIZE: 12px; COLOR: #3366cc; LINE-HEIGHT: 18px; TEXT-DECORATION: underline
}
.b:visited {
	FONT-SIZE: 12px; COLOR: #813f1b; LINE-HEIGHT: 18px; TEXT-DECORATION: none
}
.b:hover {
	FONT-SIZE: 12px; COLOR: #ffa037; LINE-HEIGHT: 18px; TEXT-DECORATION: underline
}
.148xg {
	FONT-SIZE: 14px; COLOR: #0000ff; LINE-HEIGHT: 14pt; FONT-FAMILY: "宋体"; TEXT-DECORATION: underline
}
.128dt {
	FONT-SIZE: 14px; COLOR: #9999cc; LINE-HEIGHT: 14pt; FONT-FAMILY: "宋体"; TEXT-DECORATION: none
}
.heigh150 {
	LINE-HEIGHT: 150%
}
</STYLE>

<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY text=#000000 bgColor=#ffffff leftMargin=0 topMargin=5>
<TABLE cellSpacing=0 cellPadding=0 width=768 align=center border=0>
  <TBODY>
  <TR>
    <TD align=middle width=168 height=80><IMG 
      src="――使用uC-OS-II操作系统的短信息电话机.files/21ic.gif"></TD>
    <TD width=472>
      <SCRIPT language=javascript 
      src="――使用uC-OS-II操作系统的短信息电话机.files/ads.htm"></SCRIPT>
    </TD>
    <TD height=80>
      <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
        <TBODY>
        <TR>
          <TD class=b12 align=middle height=30><FONT 
            face="Arial, Helvetica, sans-serif" color=#000000>
            <SCRIPT language=JavaScript 
            src="――使用uC-OS-II操作系统的短信息电话机.files/date.js"></SCRIPT>
            </FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=1 width=768 align=center border=0>
  <TBODY>
  <TR>
    <TD>
      <TABLE cellSpacing=0 cellPadding=3 width=766 align=left border=0>
        <TBODY>
        <TR bgColor=#d8d6ba>
          <TD width=3 height=20></TD>
          <DIV id=Position></DIV>
          <TD width=378>
            <FORM name=email 
            action=http://www.21icsearch.com/buzi/mail2/chkemail.asp method=post 
            target=_blank><B>电子工程周刊：</B> <INPUT class=main 
            style="BORDER-RIGHT: #0097cf 1px solid; BORDER-TOP: #0097cf 1px solid; BORDER-LEFT: #0097cf 1px solid; BORDER-BOTTOM: #0097cf 1px solid; BACKGROUND-COLOR: #ffffff" 
            maxLength=255 size=30 value=输入您的Email name=email>　<INPUT class=jbutton type=submit value=订阅> </TD></FORM>
          <DIV></DIV>
          <DIV id=Time></DIV>
          <DIV id=Image></DIV>
          <DIV id=Title></DIV>
          <TD width=418>
            <MARQUEE onmouseover=this.scrollDelay=99000 
            onmouseout=this.scrollDelay=80 scrollAmount=2 scrollDelay=80 
            width="80%"><FONT color=#cc0000><IMG height=12 
            src="――使用uC-OS-II操作系统的短信息电话机.files/xilan_arrow.gif" 
            width=16>每周自动接收行业新闻，技术资料，设计文章</FONT></MARQUEE></TD>
          <DIV></DIV>
          <TD width=9></TD></TR></TBODY></TABLE>
      <DIV></DIV>
      <DIV id=Time></DIV>
      <DIV id=Image></DIV>
      <DIV id=Title><TD< td></DIV></TD></TR></TBODY></TABLE></TD></TR></TABLE><BR>
<TABLE cellSpacing=0 cellPadding=0 width=768 align=center border=0>
  <TBODY>
  <TR>
    <TD vAlign=top width=617 height=2>
      <TABLE cellSpacing=0 cellPadding=0 width=583 align=center border=0>
        <TBODY>
        <TR>
          <TD align=middle height=31><FONT size=4><B>使用uC/OS-II操作系统的短信息电话机 
            </B></FONT></TD></TR>
        <TR>
          <TD align=middle height=15>文章作者：何昭辉 谢吉华<BR>文章类型：设计应用 
            文章加入时间：2003年9月16日23:51</TD></TR>
        <TR>
          <TD align=right><FONT color=#cc0000>文章出处：单片机及嵌入式系统应用</FONT> </TD></TR>
        <TR>
          <TD height=15>
            <HR width="100%" noShade SIZE=1>
          </TD></TR>
        <TR>
          <TD height=15>
            <TABLE cellSpacing=0 cellPadding=0 align=center border=0>
              <TBODY>
              <TR>
                <TD></TD></TR></TBODY></TABLE><BR></TD></TR></TBODY></TABLE>
      <TABLE cellSpacing=0 cellPadding=0 width=530 align=center border=0>
        <TBODY>
        <TR>
          <TD class=heigh150 height=15>
            <DIV id=Content>
            <P class=MsoNormal><SPAN 
            style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">&nbsp;&nbsp;&nbsp; 
            <B>摘要：</B></SPAN>将μC/OS-II实时嵌入式操作系统移植到EPSON八位单片机上来开发短信息电话机。此电话机除普通电话的通用功能外，还增加了短消息收/发功能、信息浏览与查阅功能、信息点播与信息订阅功能等。</P>
            <P class=MsoNormal><SPAN 
            style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">&nbsp;&nbsp;&nbsp; 
            <B>关键词：</B></SPAN>短信息电话机 实时操作系统 μC/OS-II</P>
            <P><B>1 <FONT lang=ZH-CN face=宋体>背 景</FONT></B></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　后PC时代的到来，使人们开始越来越多地接触到一个新的概念――嵌入式产品。手机、PDA（如商务通）等均属于手持式嵌入式产品，VCD机、机顶盒等也属于嵌入式产品，而车载GPS系统、数控机床、网络冰箱等同样都属于嵌入式产品。信息电器具有信息服务功能，如网络浏览、视频点播、文字处理、电子邮件、个人数字助理等。后PC时代，家用电器将向数字化和网络化发展，计算机都将嵌入到电视机、冰箱、微波炉、电话等中，并通过家庭控制中心与Internet连接，转变为智能网络家电；还可以实现远程医疗、远程教育等。据估计未来十年间，信息家电（网络冰箱、机顶盒、家庭网关、数字机顶盒等）总量可达到1~1.5亿台，总市场需求将达到900~1500亿元。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　Short Messages 
            Phone(短信息电话机)是一种操作简便、成本低廉的固定电话信息终端产品。它集成了网络和智能电话的优点，是一种基于信息网络的，具有交互功能的信息终端产品，可以通过固定电话网络与信息中心进行数据双向传送。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体><B>2 系统功能及其实现方案</B></FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN face=宋体>2.1 
            功能特点</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　短信息电话机除了实现普通电话机的通用功能外，还增加了短消息收/发、信息浏览与查阅、信息点播、信息订阅、电话簿、来电号码显示与存储、通话记录、来电转移、呼叫等待、呼叫限制、对屏幕的灰度进行设置、对回执进行设置以及时钟和日历功能、闹钟功能、特色铃声功能、记事本功能等。</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　短信息电话机还可以和信息中心在线交互，查看信息中心提供的信息（例如天气预报、电视预告、电影预告、股价查询、话费查询、区号邮编查询、新闻栏目、彩票信息等等），还可以订阅一些自己喜欢的信息。在线浏览的信息取决于信息中心提供的信息。</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　短信息电话机就像是一个固定的手机。手机的功能几乎它都具备。</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN face=宋体>2.2 
            硬件方案</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　（1）MCU的选择</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　MCU是整个方案的核心，由它来处理CPE（客户端设备）与IIS（集成信息系统），控制整个电话机的各个功能部件。由于人机界面对速度的要求不是很高，数据通信速度也相对较低，一般的8位MCU就能够满足方案的要求。我们选择EPSON 
            的EOC88系列的E0C88104芯片。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　（2）数据信号的解/编码</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　① 
            FSK信号的解码。FSK（频移键控）的解码选用台湾华邦公司的W91030。它是用同步串口与MCU连接的，不仅能提供FSK的解码，而且还能提供CAS信号的检测（CAS信号是IIS与CPE连接时下传的一个很重要的握手信号）和振铃检测，是一款很实用的芯片，但它的成本较高。如果用分离器件，也能做到FSK解码，但这样做没有经过验证，风险较大。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　② 
            DTMF信号的解码。选用的是9170，这一款芯片是很通用的。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　③ 
            DTMF信号的编码。选用的是台湾华邦公司的W91082，同样是以同步串口与MCU相连接。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　④ 
            FSK的编码。FSK信号的编码不是必需的，考虑到FSK传送的效率要比DTMF高20~28倍，当然最好选用FSK上传方式。由于相应的FSK的编码器件价位很高，本方案采用了低成本的软件方式作为后备模块。</FONT></P><FONT 
            lang=ZH-CN face=宋体 size=2></FONT>
            <P><FONT lang=ZH-CN face=宋体>&nbsp;&nbsp;&nbsp; （3）语音电路</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　目前选用的是Philips公司的TEA1098。该器件集成了普通话音放大、消侧音及免提功能，实用方便，但价位有点高。考虑到我们初次接触电话电路，而且这部分也不是关键技术，为了缩短研发周期，选择这款芯片是比较合适的。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>&nbsp;&nbsp;&nbsp; 2.3 软件方案</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　本系统选用</FONT>μC/OS-II<FONT lang=ZH-CN 
            face=宋体>操作系统，将其移植到所选的MCU上。在main中建立一个起始任务</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN 
            face=宋体>StartTask。</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN face=宋体>int main 
            (void){</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN 
            face=宋体>OSInit();</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN 
            face=宋体>OSTaskCreate((void*)StartTask,(void*)0X00,(OS_STK ) 
            &amp;StartTaskStk[START_TASK_STK_SIZE-1],0);</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN 
            face=宋体>OSStart();</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN face=宋体>return 
            0;</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN face=宋体>}</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN 
            face=宋体>起始任务中，首先建立一系列的信号量和邮箱：</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN face=宋体>Sem_Int_Ring = 
            OSSemCreate(0) ;唤醒振铃任务</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN face=宋体>Sem_Any_SMTask 
            = OSSemCreate(0) ;唤醒短消息任务</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN 
            face=宋体>Sem_Int_Keyboard = OSSemCreate(0) ;唤醒键盘任务</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN 
            face=宋体>Sem_Int_ClockTask = OSSemCreate(0) ;唤醒时钟中断</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN face=宋体>Mbox_Any_UI= 
            OSMboxCreate((void *)0);唤醒UI任务</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN face=宋体>Mbox_Int_Hook= 
            OSMboxCreate((void *)0);唤醒摘挂机任</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN face=宋体>;务</FONT></P>
            <P style="TEXT-INDENT: 30px"><FONT lang=ZH-CN 
            face=宋体>然后，用OSTaskCreate()函数建立6个任务。任务名分别为：HandsetTask（摘/挂机任务）、RingTask（响铃任务）、KeyTask（键盘任务）、SmTask（短消息任务）、UITask（用户界面（UI）任务）、ClockTask（时钟任务）。最后，在起始任务中将它本身删除掉。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　（1）摘/挂机任务</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　当拿起听筒或放下听筒时，就产生中断。在中断中，调用OSMboxPost(Mbox_Int_Hook，Msg_Int_Hook)来唤醒摘/挂机任务，同时清除中断标志。Msg_Int_Hook[0]＝0x00为摘机，Msg_Int_Hook[0]＝0x01为挂机。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　摘/挂机任务不断调用OSMboxPend(Mbox 
            _Int_Hook，0，&amp;err)来获得信箱。获得信箱后，根据Msg_Int_Hook[0]中的值，就知道是摘机还是挂机，然后调用OSMboxPost(Mbox_Any_UI，Msg_Any_UI)来唤醒UI任务。Msg_Any_UI 
            [0]＝任务号1，Msg_Any_UI [1]＝0x00为摘机，Msg_Any_UI [1]＝0x01为挂机。</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　在挂机的时候，如果先前是在响铃的时候摘机的，那么UI任务把它当做已接来电处理；如果不是在响铃的时候摘机的，那么在挂机的时候把它当做已拨电话处理。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　（2）振铃任务</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　当铃声来到时，就产生中断。在这个中断中，调用OSSemPost(Sem_Int_Ring)来唤醒振铃任务。</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　响铃任务调用OSSemPend(Sem_Int_Ring，0，&amp;err)来获得信号量。获得信号量后，就把下传的号码接收下来；根据号码就可以知道是短信息，还是普通电话。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　① 当是短信息时，就调用OSSemPost(Sem_Any 
            _SMTask)来唤醒短消息任务；</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　② 
            如果是电话，就响铃，同时调用OSMboxPost(Mbox_Any_UI，Msg_Any_UI)来唤醒UI任务。这时Msg_Any_UI[0]＝任务号2，从Msg_Any_UI[1]开始存的是来电时间和电话号码，然后调用OSSemPend(Sem_Int_Ring，RING_RECV_TIMEOUT，&amp;err)，来延时响铃一段时间。</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　如果在这段时间内没有接电话，那么必然会超时，于是就清除铃声中断，同时调用OSMboxPost(Mbox_Any_UI，Msg_Any_UI)来唤醒UI任务，这时Msg_Any_UI[0]＝任务号2，Msg_Any_UI[1]＝0xff表示铃声结束。UI任务把它当作未接来电处理。</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　如果在这段时间内接电话，就必然唤醒摘/挂机任务。如果从响铃到对摘/挂机任务处理完毕所需要的总时间还没有到RING_RECV_TIMEOUT，那么，当时间到了，UI任务也会收到铃声结束的消息；但此时，UI任务不对它做任何处理。</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　响铃任务如何区别是正常的电话还是信息中心的来电信息呢?其实很简单。信息中心也是一个终端，是由一个特定的号码来确定的。就像用不同的电话号码来区别不同的用户一样。这样响铃任务就可以根据电话线上下传的号码，来确定是哪种情况了。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　（3）键盘任务</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　有按键按下时，产生一中断，在中断服务子程序中调用OSSemPost(Sem_Int_Keyboard)来唤醒键盘任务，同时清除中断标志。键盘任务调用OSSemPend(Sem_Int_Keyboard,0,&amp;err)来获得信号量。获得信号量后，键盘任务将调用OSMboxPost(Mbox_Any_UI，Msg_Any_UI)唤醒UI任务。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　Msg_Any_UI[0]为任务号3， 
            Msg_Any_UI[1]为键值。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　（4）短消息任务</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　该任务调用OSSemPend(Sem_Any_SMTask,0,&amp;err)获得信号量。当获得信号量后，通过标志位判别是准备上传数据还是下传数据。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　① 
            下传数据时，将下传的数据放在recv_buf[]中，然后调用OSMboxPost(Mbox_Any_UI，Msg_Any_UI)唤醒UI任务。Msg_Any_UI 
            [0]＝任务号4，从Msg_Any_UI 
            [1]开始存的是从recv_buf[]中筛选过的数据。这是在连上后从信息中心下载信息的情况，其中Msg_Any_UI 
            [1]存的是信息的种类号，种类号都是大于0x80H小于0xFFH的；没有连上信息中心或者是连上之后完成任务。这时recv_buf[1]存的就是0xff；如果刚刚连上，就在recv_buf[1]存0x01。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　② 
            如果用户需要发送短消息任务，先将信息存在Msg_send_buf[]中，然后UI任务调用OSSemPost(Sem_Any_SMTask)，将该任务激活。该任务提取存在Msg_send_buf[]中的信息后，包装后保存在send_buf[]，然后将其发出去。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　（5）用户界面任务</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　UI任务一直在等待消息。当它被激活时，根据存在Msg_Any_UI[255]中的不同数据进行不同的处理。详述见“3.用户界面任务详述”。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　（6）时钟任务</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　单片机每10ms产生一个中断，在这个中断服务子程序中，对clock_count减1。当减为0时，就调用OSSemPost(Sem_Int_ClockTask)唤醒时钟任务；同时，clock_count重新回到100。这样每1s，就会调用一次OSSemPost(Sem_Int_ClockTask)。时钟任务调用OSSemPend(Sem_Int_ClockTask,0,&amp;err)获得信号量。当获得信号量时，就更新时间。如果在23：59：59的时候更新时间，那就要同时更新日期和星期。如果此时UI任务处于待机状态，时钟任务就调用OSMboxPost(Mbox_Any_UI,Msg_Any_UI)来唤醒UI任务。Msg_Any_UI[0]为任务号0x06。时钟任务只是负责更新时间，显示时间是由UI任务在待机的时候来完成的。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体><B>3 用户界面任务详述</B></FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　在所有这些任务中，用户界面任务做的工作相对比较烦琐。首先，根据放在Msg_Any_UI[255]中的第一个字节，判断是什么任务激活了本任务。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　① 
            如果是摘/挂机任务激活的，再判断第二个字节的值，根据值的不同知道是挂机还是摘机。如果是挂机，就在液晶上显示待机画面。如果是摘机，就在液晶上显示打电话图标和有关的字样，并等待键盘任务送来的数字键，将其显示出来。(只有主动向外打电话才显示数字键，在接电话按数字键转接时不显示数字键。)</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　② 
            如果是振铃任务激活的，就将Msg_Any_UI[255]中接下来的来电号码、时间和来电图标显示在液晶上。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　③ 
            如果是键盘任务激活的，就根据3号任务放在Msg_Any_UI[255]中的键值和当前的工作模式做不同的处理。</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　如果是在摘机模式下，就只是响应数字键和#*键，并每按一个键就通过5号任务号码发出去。</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>　　如果是在挂机模式下，那么，就可以响应数字键和有关操作菜单的键（包括进入各个子菜单的快捷键、上下键、左右键、返回上级菜单键、快速返回待机画面的键、确定键、删除键、拼音输入法/字母输入法/数字输入法/短语输入法切换键）。各个菜单是不同的状态，通过键值和原来的状态可以知道现在该进入什么状态。然后根据新得到的状态，进行相应的液晶刷新和完成相应的功能。比如添加、删除、查找电话簿；添加、删除、查找通话记录；编辑短消息并发送出去，删除草稿箱里的短消息；写记事本，设置闹钟、时间、日期，设置信箱的密码，设置信息中心的号码等。</FONT></P>
            <P><FONT lang=ZH-CN 
            face=宋体>如果是在与信息中心的连接模式下，那么就可以响应上下键，确定键（进入下级菜单），返回上一级菜单，通过选择返回这个选项来实现。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　④如果是短消息任务激活的，就根据Msg_ 
            Any_UI[255]中的命令码，来确定该信息的模块种类是信息下载管理模块、信息上传管理模块、信息询问管理模块，或者是屏幕信息输出管理模块，然后，再根据Msg_Any_UI[255]中接下来的信息做相应的处理。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　⑤ 
            如果是时钟任务激活的，UI任务就刷新界面上的时间、日期和星期这些信息。</FONT></P>
            <P><FONT lang=ZH-CN face=宋体><B>4 调试环境与调试成果</B></FONT></P>
            <P><FONT lang=ZH-CN face=宋体>　　此程序用EPSON公司的S1C88 
            C-Compiler编译器编译，用EPSON公司的ICE88UR 
            的E0C88系列在线仿真器进行仿真。在仿真器下仿真完毕后，再脱机运行。试验结果令人满意，达到了预期的效果。</FONT> </P>
            <P></P></DIV></TD></TR>
        <TR>
          <TD align=middle height=15>
            <TABLE cellSpacing=0 cellPadding=0 align=center border=0>
              <TBODY>
              <TR>
                <TD>
                  <DIV></DIV></TD></TR></TBODY></TABLE></TD></TR>
        <TR>
          <TD align=right height=2>
            <TABLE cellSpacing=0 cellPadding=0 width="80%" border=0>
              <TBODY>
              <TR>
                <TD width=75>【<A href="javascript:doPrint();">打印本稿</A>】</TD>
                <TD width=8></TD>
                <TD width=75>
                  <P>【<A 
                  href="http://www.21ic.com/new_info/news/review.asp?title=使用uC/OS-II操作系统的短信息电话机target=" 
                  _blank?>发表评论</A>】</P></TD>
                <TD width=10></TD>
                <TD width=79>【<A 
                  href="http://www.21ic.com/new_info/news/sendmail.asp?num=使用uC/OS-II操作系统的短信息电话机">推荐</A>】</TD></TR></TBODY></TABLE></TD></TR>
        <TR>
          <TD align=right height=2></TD></TR>
        <TR>
          <TD align=right height=2><A href="javascript:window.close();"><IMG 
            height=20 src="――使用uC-OS-II操作系统的短信息电话机.files/close_c.gif" width=77 
            border=0 name=Image161></A><FONT 
        color=#ffffff>－－－－</FONT></TD></TR></TBODY></TABLE><BR><BR>
      <TABLE cellSpacing=0 cellPadding=0 width=520 align=center border=0>
        <TBODY>
        <TR>
          <TD vAlign=bottom align=middle width=114 bgColor=#999a76 
            height=1><IMG height=1 src="――使用uC-OS-II操作系统的短信息电话机.files/blank.gif" 
            width=1></TD>
          <TD width=466 height=1></TD></TR>
        <TR>
          <TD align=middle width=114 bgColor=#ece8db height=19>相关新闻</TD>
          <TD width=466 height=19></TD></TR>
        <TR bgColor=#999a76>
          <TD colSpan=2 height=1><IMG height=1 
            src="――使用uC-OS-II操作系统的短信息电话机.files/blank.gif" width=1></TD></TR>
        <TR>
          <TD colSpan=2 height=1></TD></TR></TBODY></TABLE>
      <TABLE borderColor=#000000 cellSpacing=0 cellPadding=0 width=520 
      align=center border=0>
        <TBODY>
        <TR>
          <TD vAlign=top>
            <TABLE class=RelatedTable width="100%" border=0>
              <TBODY>
              <TR class=RelatedTr>
                <TD class=RelatedTd>
                  <SCRIPT language=javascript 
                  src="――使用uC-OS-II操作系统的短信息电话机.files/about.htm"></SCRIPT>
                </TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR></TD>
    <TD vAlign=top align=middle width=150 bgColor=#ece8db height=2>
      <TABLE cellSpacing=0 cellPadding=1 width="100%" border=0>
        <TBODY>
        <TR>
          <TD bgColor=#000000>
            <TABLE cellSpacing=0 cellPadding=2 width=150 bgColor=#ece8db 
            border=0>
              <TBODY>
              <TR>
                <TD>
                  <META content="Microsoft FrontPage 5.0" name=GENERATOR>
                  <META content=FrontPage.Editor.Document 
                  name=ProgId><BR>嵌入式系统<BR><A href="http://www.embedon.com/" 
                  target=blank>远峰</A> <BR><A 
                  href="http://www.21ic.com/custom/jhb/index.htm" 
                  target=blank>复旦金海博</A><BR><A 
                  href="http://www.emdoor.com/index.asp" 
                  target=blank>亿道</A><BR><BR>单片机 <BR><BR><A 
                  href="http://www.hk.renesas.com/" 
                  target=blank>Renesas</A><BR><A 
                  href="http://www.zlgmcu.com/tools/kaifaban.asp" 
                  target=blank>周立功 Philips</A> <BR><A 
                  href="http://www.strong-ic.com/" target=blank>胜创特</A> <BR><A 
                  href="http://www.holtek.com.tw/" target=blank>盛群 Holtek</A> 
                  <BR><A href="http://www.xhl.com.cn/" 
                  target=blank>Cygnal单片机</A><BR><A href="http://www.lierda.com/" 
                  target=blank>利尔达MSP430</A> <BR><BR>接口电路：<BR><BR><A 
                  href="http://www.whjmw.com/" target=blank>金迈威</A> <BR><A 
                  href="http://www.21ic.com/custom/maiwei/mw.htm" 
                  target=blank>迈威</A> <BR><A href="http://www.rs232.net.cn/" 
                  target=blank>瑞赛特</A><BR><BR><BR>存储器<BR><A 
                  href="http://www.huazhoucn.com/" 
                  target=blank>铁电存储器免费样品</A><BR><BR><BR>模拟器件<BR><A 
                  href="http://www.unique-ap.com.cn/" 
                  target=blank>Linear</A><BR><BR><BR>编程器<BR><A 
                  href="http://www.xeltek.com.cn/" 
              target=blank>西尔特编程器</A><BR></TD></TR>
              <TR>
                <TD 
  height=5></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width=766 align=center border=0>
  <TBODY>
  <TR>
    <TD vAlign=top colSpan=6></TD></TR>
  <TR>
    <TD vAlign=top colSpan=6 height=10></TD></TR>
  <TR>
    <TD vAlign=top bgColor=#999999 colSpan=6 height=2></TD></TR>
  <TR>
    <TD class=stxt vAlign=center align=middle colSpan=6 
height=6></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width=766 align=center border=0>
  <TBODY>
  <TR>
    <TD class=s width=973 height=12></TD></TR>
  <TR>
    <TD class=s width=973 height=20>
      <DIV align=center><FONT face="Arial, Helvetica, sans-serif"><!--start copyright-->
      <DIV align=center><FONT color=black>
      <TABLE cellSpacing=0 cellPadding=0 width=600 align=center border=0>
        <TBODY>
        <TR>
          <TD align=middle width="100%" colSpan=2><BR>Better View:800*600 Best 
            View:1024x768 为了本系统能够更好的为您服务，请使用IE4.0或以上版本浏览器 
            <BR><BR>版权所有(C)21IC中国电子网 电话：010-82357510, 82357511 传真: 010-82357512 
          </TD></TR></TBODY></TABLE><!--start copyright--></FONT></DIV></FONT></DIV></TD></TR></TBODY></TABLE><BR></BODY></HTML>
